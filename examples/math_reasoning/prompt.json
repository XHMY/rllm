{
  "multi_agent_math_prompts": {
    "generator_initial": {
      "template": "You are a math problem solver. Your task is to solve the given mathematical problem step by step. You must provide the final answer in \\boxed{{}} format\nProblem: {problem}",
      "description": "Initial solution generation prompt for the generator agent (user message)",
      "required_variables": ["problem"]
    },
    "evaluator_critique": {
      "template": "You are a reviewing the solution above. Your task is to analyze it for correctness.\n\nImportant instructions: You must provide your verdict as \\boxed{Correct} or \\boxed{Incorrect}\n- If incorrect, add a brief comment explaining the main issue\n- Do not reveal the correct answer in your response",
      "description": "Critique prompt for the evaluator agent to analyze solutions (user message)",
      "required_variables": []
    },
    "generator_refinement": {
      "template": "You are a math problem solver creating a new solution based on the teacher's feedback above. Your task is to solve the problem using a completely different approach.\n\nImportant instructions: You must provide the final answer in \\boxed{} format\n- Use a DIFFERENT method than your previous attempt\n- Address the issues identified in the teacher's feedback",
      "description": "Refinement prompt for the generator agent to create new solutions with different approaches (user message)",
      "required_variables": []
    }
  },
  "evaluator_optimizer_prompts": {
    "generator_initial": {
      "template": "You are a math problem solver. Your task is to solve the given mathematical problem step by step. You must provide the final answer in \\boxed{{}} format.\n\nProblem: {problem}",
      "description": "Initial solution generation prompt for the generator agent",
      "required_variables": ["problem"]
    },
    "evaluator_critique": {
      "template": "You are reviewing the solution above. Your task is to analyze it for correctness.\n\nImportant instructions:\n- Provide your verdict as \\boxed{Correct} or \\boxed{Incorrect}\n- If incorrect, briefly explain the main issue\n- Do not reveal the correct answer in your response",
      "description": "Evaluation prompt for critiquing solutions",
      "required_variables": []
    },
    "generator_refinement": {
      "template": "You are a math problem solver creating a new solution based on the teacher's feedback above. Your task is to solve the problem using a completely different approach.\n\nImportant instructions:\n- You must provide the final answer in \\boxed{{}} format\n- Use a DIFFERENT method than your previous attempt\n- Address the issues identified in the teacher's feedback",
      "description": "Refinement prompt for generator to create improved solutions",
      "required_variables": []
    }
  },
  "voting_prompts": {
    "generator": {
      "template": "You are a math problem solver. Your task is to solve the given mathematical problem step by step. You must provide the final answer in \\boxed{{}} format.\n\nProblem: {problem}",
      "description": "Generation prompt for parallel math problem solving",
      "required_variables": ["problem"]
    },
    "aggregator": {
      "template": "You are an expert math reviewer. Your task is to review multiple solutions to the same problem and select the best one.\n\nProblem: {problem}\n\nSolutions to review:{solutions}\n\nInstructions:\n1. Analyze each solution for correctness and completeness\n2. Check the mathematical reasoning and final answer\n3. Select the solution number that is most likely correct\n4. Output your selection as \\boxed{{N}} where N is the solution number (1, 2, 3, etc.)\n\nYour selection:",
      "description": "Aggregation prompt for selecting the best solution from multiple candidates",
      "required_variables": ["problem", "solutions"]
    }
  },
  "orchestrator_workers_prompts": {
    "orchestrator_decompose": {
      "template": "You are a math problem-solving coordinator. Your task is to analyze the following complex math problem and break it down into at most {max_subtasks} simpler subproblems that can be solved independently.\n\nProblem: {problem}\n\nInstructions:\n1. Identify the key components or steps needed to solve this problem\n2. Break it down into at most {max_subtasks} independent subproblems\n3. Each subproblem should be self-contained and solvable on its own\n4. Format your response as:\n   SUBTASK 1: [description of first subproblem]\n   SUBTASK 2: [description of second subproblem]\n   (and so on, up to {max_subtasks} subtasks maximum)\n\nDecompose the problem now:",
      "description": "Decomposition prompt for orchestrator to break down complex problems",
      "required_variables": ["problem", "max_subtasks"]
    },
    "worker_solve": {
      "template": "You are a math problem solver working on a specific part of a larger problem.\n\nOriginal problem context: {context}\n\nYour assigned subproblem: {subtask}\n\nInstructions:\n1. Solve this specific subproblem step by step\n2. Show your work clearly\n3. Provide your answer in \\boxed{{}} format\n\nSolve the subproblem:",
      "description": "Worker prompt for solving individual subproblems",
      "required_variables": ["context", "subtask"]
    },
    "orchestrator_synthesize": {
      "template": "You are a math problem-solving coordinator. Your task is to synthesize the solutions from multiple subproblems into a final answer.\n\nOriginal problem: {problem}\n\nSubproblem solutions:{solutions}\n\nInstructions:\n1. Review all subproblem solutions\n2. Combine them logically to solve the original problem\n3. Verify the final answer makes sense\n4. Provide the final answer in \\boxed{{}} format\n\nSynthesize the final answer:",
      "description": "Synthesis prompt for orchestrator to combine subproblem solutions",
      "required_variables": ["problem", "solutions"]
    }
  },
  "metadata": {
    "version": "1.3",
    "created_date": "2025-08-15",
    "updated_date": "2026-01-19",
    "description": "Centralized prompt templates for multi-agent mathematical problem solving system",
    "usage_notes": [
      "All templates use Python string formatting with named placeholders",
      "The \\boxed{{}} format requires double braces due to Python string formatting",
      "These prompts are used across rollout generation and SFT dataset preparation",
      "evaluator_optimizer_prompts: Used by EvaluatorOptimizerMathWorkflow (2-agent pattern)",
      "multi_agent_math_prompts: Used by MultiAgentMathWorkflow (3-agent pattern)",
      "voting_prompts: Used by VotingMathWorkflow (parallel generation + aggregation pattern)",
      "orchestrator_workers_prompts: Used by OrchestratorWorkersMathWorkflow (task decomposition pattern)"
    ]
  }
}
